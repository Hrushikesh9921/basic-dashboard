<!-- New file: dash.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <!-- <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png"> -->
    <!-- <link rel="icon" type="image/png" href="../assets/img/favicon.ico"> -->
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /> -->
    <title>Employee Engagement Dashboard</title>
    <!-- <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' /> -->
    <!--     Fonts and icons     -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" /> -->
    <!-- CSS Files -->
    <link href="bootstrap.min.css" rel="stylesheet" />
    <link href="light-bootstrap-dashboard.css?v=2.0.0 " rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <!-- <link href="../assets/css/demo.css" rel="stylesheet" /> -->
    <style>
        body {
            color: black;
        }
        img {
            display: block;
        }
        .main-panel {
            padding-left: 0;
        }
        .card {
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .card-header, .card-footer {
            background-color: #165164 !important;
            color: #e0e0e0 !important;
                
        }
        .navbar {
            background-color: #165164 !important;
            color: #FBF9F1 !important;
            justify-content: center;
        }
        .navbar a, .navbar-brand, .nav-link, .navbar-nav>li>a {
            color: #FBF9F1 !important;
            text-align: center;
            
        }
        .user-behavior {
            margin-top: 20px; /* Add padding between top navbar and user behavior section */
        }
        .navbar-brand {
            text-align: center;
        }

        .card-body {
            display: flex;
            gap:10px;
            flex-direction: column;
            align-items: center;
            padding: 0 !important;
            flex: 1;
        }
       
        .card-wrapper {
            display: flex;
            flex-direction: column;
            gap:10px;
            justify-content: center;
            align-items: center;
            width: 100%;
        }
         
        .card-image {
            display: block;
            width: 60% !important;
        }
        .card-body-wrapper {
            display: flex;
            gap:15px;
            width: 100%;
            justify-content: center;
            object-fit: contain;
        }
        #chartSection1 {
            width: 100%;
        }
        .ard-title-text {
            color: black;
        }
    </style>
</head>

<body>
    <!-- Main panel content from dashboard.html -->
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg " color-on-scroll="500" style="background-color: #164863; color: #FBF9F1; text-align: center;">
        <div class="container-fluid">
            <a class="navbar-brand" > </a>
            <button href="" class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-bar burger-lines"></span>
                <span class="navbar-toggler-bar burger-lines"></span>
                <span class="navbar-toggler-bar burger-lines"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navigation">
                <ul class="nav navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="navbar-brand" > Employee Experience Portal </a> 
                        <!-- <a href="#" class="nav-link" data-toggle="dropdown">
                            <i class="nc-icon nc-palette"></i>
                            <span class="d-lg-none">Employee Experience Portal</span>
                        </a> -->
                    </li>
                </ul>
                <ul class="navbar-nav ml-auto">
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="#pablo">
                            <span class="no-icon">Account</span>
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="no-icon">Dropdown</span>
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <a class="dropdown-item" href="#">Something</a>
                            <a class="dropdown-item" href="#">Something else here</a>
                            <div class="divider"></div>
                            <a class="dropdown-item" href="#">Separated link</a>
                        </div>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" href="#pablo">
                            <span class="no-icon">Add New</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="rolling-dash.html">
                            <span class="no-icon" target="_blank">Slide Show</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End Navbar -->
    
    <div class="content user-behavior">
        <div class="container-fluid">
            <!-- User Behavior Section -->
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">DeepIntent FitZone</h4>
                        </div>
                        <div class="card-body">
                            <div id="chartHours" class="ct-chart"></div>
                        </div>
                        <div class="card-footer">
                        </div>                    </div>
                </div>
            </div>
            <!-- Section 1 -->
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">DeepIntent Awards</h4>
                        </div>
                        <div class="card-body">
                            <div id="chartSection1" class="ct-chart1"></div>

                        </div>
                        <div class="card-footer">
                        </div>
                    </div>
                </div>
                <!-- Section 2 -->
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">Culture @ DeepIntent</h4>
                        </div>
                        <div class="card-body ">
                            <div id="chartSection2" class="ct-chart1"></div>
                        </div>
                        <div class="card-footer">
                        </div>
                    </div>
                </div>
                <!-- Section 3 -->
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">Company Events</h4>
                        </div>
                        <div class="card-body">
                            <div id="chartSection3" class="ct-chart1"></div>
                        </div>
                        <div class="card-footer">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>


<script>
    // Function to make API call
    function fetchData() {
      // Replace 'YOUR_API_ENDPOINT' with the actual API endpoint you want to call
      fetch('http://192.168.68.140:1111/fetchdata')
        .then(response => response.json())
        .then(data => {
          // Call function to render data on UI
          console.log(data.data)
          renderData(data.data);
        })
        .catch(error => {
          console.error('Error fetching data:', error);
        });
    }

    function renderData(data) {
            const section1 = document.getElementById('chartSection1');
            data.forEach((item, index) => {
                const itemElement = document.createElement('div');
                itemElement.classList.add('carousel-item');
                if (index === 0) {
                    itemElement.classList.add('active');
                }
                itemElement.innerHTML = `
                    <div class="card-wrapper">
                        <h3 class="card-title-text">${item.Award}</h3>
                        <div class="card-body-wrapper">
                            <img class="card-image" src="${item.Picture}" alt="Image">
                        </div>
                    <div class="card-footer-wrapper">
                        <h5>${item.Name}</h5>
                        <h5>${item.Reason}</h5>

                    </div>
                    <div>
                `;
                console.log(itemElement)
                section1.appendChild(itemElement);
            });

            // Rotate images automatically
            const carouselItems = section1.querySelectorAll('.carousel-item');
            console.log(carouselItems,"cI");
            let currentIndex = 0;

            setInterval(() => {
                // Remove active class from current item
                carouselItems[currentIndex].classList.remove('active');
                // Move to the next item
                currentIndex = (currentIndex + 1) % carouselItems.length;
                // Add active class to the next item
                carouselItems[currentIndex].classList.add('active');
            }, 3000); // Rotate every 3 seconds
        }




        // Function to make API call
        function fetchData1() {
          // Replace 'YOUR_API_ENDPOINT' with the actual API endpoint you want to call
          fetch('http://192.168.68.140:1111/cultureatdi')
            .then(response => response.json())
            .then(data => {
              // Call function to render data on UI
              console.log(data.data)
              renderData1(data.data);
            })
            .catch(error => {
              console.error('Error fetching data:', error);
            });
        }
    
    
        function renderData1(data) {
                const section2 = document.getElementById('chartSection2');
                data.forEach((item, index) => {
                    const itemElement = document.createElement('div');
                    itemElement.classList.add('carousel-item');
                    if (index === 0) {
                        itemElement.classList.add('active');
                    }
                    itemElement.innerHTML = `
                        <div class="card-wrapper">
                            <h3 class="card-title-text">${item.Reason}</h3>
                            <div class="card-body-wrapper">
                                <img class="card-image" src="${item.Picture}" alt="Image">
                          
                            </div>
                        <div class="card-footer-wrapper">
                            <h5>${item.Event}</h5>
                            <h5>${item.Reason}</h5>
    
                        </div>
                        <div>
                    `;
                    console.log(itemElement)
                    section2.appendChild(itemElement);
                });
    
                // Rotate images automatically
                const carouselItems = section2.querySelectorAll('.carousel-item');
                let currentIndex = 0;
    
                setInterval(() => {
                    // Remove active class from current item
                    carouselItems[currentIndex].classList.remove('active');
                    // Move to the next item
                    currentIndex = (currentIndex + 1) % carouselItems.length;
                    // Add active class to the next item
                    carouselItems[currentIndex].classList.add('active');
                }, 3000); // Rotate every 3 seconds
            }
    
    
    
        // Function to make API call
        function fetchData2() {
          // Replace 'YOUR_API_ENDPOINT' with the actual API endpoint you want to call
          fetch('http://192.168.68.140:1111/companyevent')
            .then(response => response.json())
            .then(data => {
              // Call function to render data on UI
              console.log(data.data)
              renderData2(data.data);
            })
            .catch(error => {
              console.error('Error fetching data:', error);
            });
        }
    
    
        function renderData2(data) {
                const section3 = document.getElementById('chartSection3');
                data.forEach((item, index) => {
                    const itemElement = document.createElement('div');
                    itemElement.classList.add('carousel-item');
                    if (index === 0) {
                        itemElement.classList.add('active');
                    }
                    itemElement.innerHTML = `
                        <div class="card-wrapper">
                            <h3 class="card-title-text">${item.Event}</h3>
                            <div class="card-body-wrapper">
                                <img class="card-image" src="${item.Picture}" alt="Image">
                          
                            </div>
                        <div class="card-footer-wrapper">
                            <h5>${item.Description}</h5>
    
                        </div>
                        <div>
                    `;
                    console.log(itemElement)
                    section3.appendChild(itemElement);
                });
    
                // Rotate images automatically
                const carouselItems = section3.querySelectorAll('.carousel-item');
                let currentIndex = 0;
    
                setInterval(() => {
                    // Remove active class from current item
                    carouselItems[currentIndex].classList.remove('active');
                    // Move to the next item
                    currentIndex = (currentIndex + 1) % carouselItems.length;
                    // Add active class to the next item
                    carouselItems[currentIndex].classList.add('active');
                }, 3000); // Rotate every 3 seconds
            }
    
    
            function fetching() {
                fetchData();
                fetchData1();
                fetchData2();
            }

        window.onload = fetching;
        </script>
        



</html>


